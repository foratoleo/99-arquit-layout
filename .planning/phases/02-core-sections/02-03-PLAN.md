---
phase: 02-core-sections
plan: 03
type: execute
wave: 2
depends_on: ["02-01", "02-02"]
files_modified: [components/Header.tsx, app/layout.tsx, app/globals.css]
autonomous: false
user_setup: []

must_haves:
  truths:
    - "Sticky header remains at top of viewport when scrolling"
    - "Navigation links are visible and clickable"
    - "Smooth scroll works when clicking section links"
    - "Header has subtle background for readability"
    - "Mobile hamburger menu works on small screens"
  artifacts:
    - path: "components/Header.tsx"
      provides: "Sticky navigation header with smooth scroll"
      min_lines: 50
    - path: "app/layout.tsx"
      provides: "Root layout with Header component"
      contains: "Header"
    - path: "app/globals.css"
      provides: "Smooth scroll CSS"
      contains: "scroll-behavior"
  key_links:
    - from: "components/Header.tsx"
      to: "app/layout.tsx"
      via: "import in layout"
      pattern: "import.*Header"
    - from: "Header links"
      to: "section anchors"
      via: "smooth scroll"
      pattern: "scroll-behavior.*smooth"
---

<objective>
Create a sticky navigation header with section links and smooth scroll functionality.

Purpose: Per 02-CONTEXT.md decision, the header must be always visible (sticky) with section links only (Manifesto, Portfolio, Contato) and smooth scroll behavior. This provides single-page navigation without the complexity of full routing.

Output: Working sticky header with smooth scroll to section anchors.
</objective>

<execution_context>
@/Users/forato/.claude/get-shit-done/workflows/execute-plan.md
@/Users/forato/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/phases/02-core-sections/02-CONTEXT.md

# User Decisions (LOCKED from 02-CONTEXT.md)
- **Header behavior**: Sticky header — always visible at top
- **Nav items**: Section links only — just section names (Manifesto, Portfolio, Contato)
- **Scroll behavior**: Smooth scroll anchors — click section name, smooth scroll to it

# Prior Work
Plan 02-01: Next.js project initialized
Plan 02-02: Hero section created
</context>

<tasks>

<task type="auto">
  <name>Add smooth scroll behavior to globals</name>
  <files>app/globals.css</files>
  <action>
Update `app/globals.css` to add smooth scroll behavior for the entire page:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-playfair: 'Playfair Display', serif;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-sand-50 text-gray-900;
    font-family: var(--font-playfair);
  }
}

/* Hide scrollbar for cleaner luxury aesthetic */
@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}
```

The `scroll-behavior: smooth` on html element enables native smooth scrolling for all anchor links.
  </action>
  <verify>
Check app/globals.css contains `scroll-behavior: smooth` in the html selector.
  </verify>
  <done>
Smooth scroll enabled for all anchor links
  </done>
</task>

<task type="auto">
  <name>Create sticky Header component with section navigation</name>
  <files>components/Header.tsx</files>
  <action>
Create `components/Header.tsx` as a client component with sticky positioning:

```typescript
'use client';

import { useState, useEffect } from 'react';
import Link from 'next/link';

export default function Header() {
  const [isScrolled, setIsScrolled] = useState(false);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 50);
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const navLinks = [
    { name: 'Manifesto', href: '#manifesto' },
    { name: 'Portfolio', href: '#portfolio' },
    { name: 'Contato', href: '#contato' },
  ];

  const handleNavClick = (e: React.MouseEvent<HTMLAnchorElement>, href: string) => {
    e.preventDefault();
    setMobileMenuOpen(false);

    const targetId = href.replace('#', '');
    const targetElement = document.getElementById(targetId);

    if (targetElement) {
      const offsetTop = targetElement.offsetTop - 80; // Account for fixed header height
      window.scrollTo({
        top: offsetTop,
        behavior: 'smooth',
      });
    }
  };

  return (
    <header
      className={`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${
        isScrolled
          ? 'bg-white/90 backdrop-blur-md shadow-luxury'
          : 'bg-transparent'
      }`}
    >
      <nav className="mx-auto max-w-7xl px-6 lg:px-8">
        <div className="flex h-20 items-center justify-between">
          {/* Logo */}
          <Link href="/" className="flex items-center">
            <span className={`font-serif text-xl tracking-[0.2em] transition-colors ${
              isScrolled ? 'text-gray-900' : 'text-white'
            }`}>
              RE ARQUITETURA
            </span>
          </Link>

          {/* Desktop Navigation */}
          <div className="hidden md:flex md:items-center md:gap-12">
            {navLinks.map((link) => (
              <a
                key={link.name}
                href={link.href}
                onClick={(e) => handleNavClick(e, link.href)}
                className={`font-serif text-sm tracking-widest transition-colors hover:opacity-60 ${
                  isScrolled ? 'text-gray-900' : 'text-white'
                }`}
              >
                {link.name.toUpperCase()}
              </a>
            ))}
          </div>

          {/* Mobile menu button */}
          <button
            type="button"
            className={`md:hidden ${
              isScrolled ? 'text-gray-900' : 'text-white'
            }`}
            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
            aria-label="Toggle menu"
          >
            <svg
              className="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              strokeWidth="1.5"
              stroke="currentColor"
            >
              {mobileMenuOpen ? (
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M6 18L18 6M6 6l12 12"
                />
              ) : (
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M3.75 9h16.5m-16.5 6.75h16.5"
                />
              )}
            </svg>
          </button>
        </div>

        {/* Mobile Navigation */}
        {mobileMenuOpen && (
          <div className="md:hidden">
            <div className="space-y-1 bg-white px-2 pb-4 pt-2 shadow-lg">
              {navLinks.map((link) => (
                <a
                  key={link.name}
                  href={link.href}
                  onClick={(e) => handleNavClick(e, link.href)}
                  className="block px-3 py-3 font-serif text-sm tracking-widest text-gray-900 hover:bg-sand-50"
                >
                  {link.name.toUpperCase()}
                </a>
              ))}
            </div>
          </div>
        )}
      </nav>
    </header>
  );
}
```

Key features:
- Sticky positioning with `fixed top-0`
- Background changes on scroll (transparent -> white with blur)
- Section links only (Manifesto, Portfolio, Contato)
- Smooth scroll with offset for fixed header
- Mobile hamburger menu
  </action>
  <verify>
Check components/Header.tsx exists with sticky header, section navigation, and smooth scroll logic.
  </verify>
  <done>
Header component created with sticky behavior and smooth scroll
  </done>
</task>

<task type="auto">
  <name>Integrate Header into root layout</name>
  <files>app/layout.tsx</files>
  <action>
Update `app/layout.tsx` to include the Header component:

```typescript
import type { Metadata } from "next";
import { Playfair_Display } from "next/font/google";
import "./globals.css";
import Header from "@/components/Header";

const playfair = Playfair_Display({
  subsets: ["latin"],
  variable: "--font-playfair",
  display: "swap",
});

export const metadata: Metadata = {
  title: "RE Arquitetura & Design",
  description: "Arquitetura de alto padrão especializada em verticalização",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="pt-BR" className={`${playfair.variable}`}>
      <body className="antialiased">
        <Header />
        {children}
      </body>
    </html>
  );
}
```

The Header is now global and will appear on all pages.
  </action>
  <verify>
Check app/layout.tsx imports and renders Header component.
  </verify>
  <done>
Header integrated into root layout
  </done>
</task>

<task type="checkpoint:human-verify">
  <what-built>Sticky navigation header with section links (Manifesto, Portfolio, Contato), smooth scroll functionality, background transition on scroll, and mobile hamburger menu</what-built>
  <how-to-verify>
1. Run `npm run dev` and visit http://localhost:3000
2. Verify the following:
   - Header is visible at the top of the page
   - On load (hero section), header text is white (transparent background)
   - Scroll down - header background changes to white with blur effect
   - Text color changes to dark when background becomes white
   - Click nav links - page smoothly scrolls to corresponding section
   - Mobile: shrink browser to mobile width (375px)
   - Hamburger menu appears on mobile
   - Click hamburger - mobile menu opens with section links
   - Click mobile link - menu closes and page scrolls
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues with the Header</resume-signal>
</task>

</tasks>

<verification>
1. Run `npm run dev` - no console errors
2. Scroll page - header background transitions smoothly
3. Click nav links - smooth scroll to section anchors
4. Test mobile view - hamburger menu works
5. Check header stays fixed at top during scroll
6. Verify smooth scroll offset accounts for header height
</verification>

<success_criteria>
- Sticky header remains at top of viewport when scrolling
- Section links (Manifesto, Portfolio, Contato) are visible and clickable
- Smooth scroll works when clicking section links
- Header background transitions from transparent to white on scroll
- Mobile hamburger menu opens/closes correctly
- Smooth scroll accounts for fixed header height (offset)
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-sections/02-03-SUMMARY.md` with frontmatter documenting Header implementation.
</output>
