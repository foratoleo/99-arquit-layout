---
phase: 04-conversion-launch
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/WhatsAppButton.tsx
  - src/components/ContactForm.tsx
  - src/components/SocialProof.tsx
  - src/app/contact/actions.ts
  - app/contact/page.tsx
autonomous: false

must_haves:
  truths:
    - User sees floating WhatsApp button with GSAP animation
    - User can click WhatsApp button to open WhatsApp chat
    - User can submit contact form with Name, Email, Message fields
    - Form submission succeeds without CAPTCHA disruption
    - Social proof displays awards, credentials, and project highlights
  artifacts:
    - path: "src/components/WhatsAppButton.tsx"
      provides: "Floating WhatsApp CTA with GSAP animation"
      min_lines: 40
    - path: "src/components/ContactForm.tsx"
      provides: "Minimal 3-field contact form with honeypot"
      min_lines: 60
    - path: "src/app/contact/actions.ts"
      provides: "Server action for form submission with honeypot validation"
      exports: ["submitContactForm"]
    - path: "src/components/SocialProof.tsx"
      provides: "Awards, credentials, project highlights display"
      min_lines: 30
  key_links:
    - from: "src/components/WhatsAppButton.tsx"
      to: "GSAP library"
      via: "gsap.from() animation on mount"
      pattern: "gsap\\.(from|to)"
    - from: "src/components/ContactForm.tsx"
      to: "src/app/contact/actions.ts"
      via: "Server action import and form submission"
      pattern: "submitContactForm"
    - from: "src/app/contact/actions.ts"
      to: "HONEYPOT_FIELD validation"
      via: "Hidden field check for spam detection"
      pattern: "honeypot|website.*empty"
---

<objective>
Build conversion elements: WhatsApp floating button (primary CTA), contact form with honeypot anti-spam, and social proof display.

Purpose: Enable user-to-business communication paths without disrupting the luxury aesthetic. WhatsApp button is primary conversion (98% engagement rate per research), contact form is backup for email preference. Honeypot prevents spam without CAPTCHA that ruins premium feel.

Output: Three new components (WhatsAppButton, ContactForm, SocialProof) with Server Action form handling.
</objective>

<execution_context>
@/Users/forato/.claude/get-shit-done/workflows/execute-plan.md
@/Users/forato/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/research/SUMMARY.md
@.planning/phases/04-conversion-launch/04-CONTEXT.md

# Design tokens (from Phase 01 - assume exists)
- Use design system colors, typography for luxury aesthetic
- Follow Atomic Design component hierarchy

# GSAP setup (from Phase 05 - assume will exist)
- GSAP 3.x for timeline-based animations
- Use ScrollTrigger for scroll-based reveals
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create WhatsApp floating button component</name>
  <files>src/components/WhatsAppButton.tsx</files>
  <action>
    Create src/components/WhatsAppButton.tsx with:
    - "use client" directive for GSAP interactivity
    - Fixed position bottom-right (24px from edge) using Tailwind fixed bottom-4 right-4
    - WhatsApp green background (#25D366) with subtle shadow
    - WhatsApp SVG icon (30x24px white icon)
    - GSAP float animation: gentle y-axis bobbing (±4px) every 2 seconds using gsap.to() with repeat: -1, yoyo: true
    - Initial entrance animation: scale from 0 to 1 with elastic ease over 0.5s (delay 1s after mount)
    - onClick opens wa.me link with pre-filled message: "Olá, vi o site da RE Arquitetura e gostaria de conversar sobre um projeto."
    - Hover state: scale to 1.1, enhanced shadow
    - z-index: 50 to stay above content
    - Accessible aria-label: "Entrar em contato via WhatsApp"

    Per CONTEXT decision: Position is Claude's choice (bottom-right is optimal for visibility while not obscuring content).
  </action>
  <verify>
    Component renders with fixed positioning, GSAP animations trigger on mount, hover effects work, click opens WhatsApp.
  </verify>
  <done>WhatsApp button visible, animated, clickable, opens correct WhatsApp link</done>
</task>

<task type="auto">
  <name>Task 2: Create contact form with honeypot anti-spam</name>
  <files>src/components/ContactForm.tsx, src/app/contact/actions.ts</files>
  <action>
    Create src/components/ContactForm.tsx with:
    - "use client" directive for form interactivity
    - Three visible fields: Name (text), Email (email), Message (textarea)
    - One hidden honeypot field: "website" (styled visually hidden but accessible to bots: absolute -9999px left, opacity 0, height 0)
    - Minimal luxury styling: 1px solid #e5e5e5 border, subtle labels, ample padding (24px)
    - Inline field-level error display (red-500 text, text-xs)
    - Success state: form hides, shows "Obrigado. Entraremos em contato em breve." message
    - Loading state during submission: disabled submit button, spinner
    - Server action binding: action={submitContactForm}

    Create src/app/contact/actions.ts with:
    - submitContactForm export using Next.js Server Actions (use server)
    - Honeypot validation: if formData.website is not empty, return fake success (spam trap)
    - Real validation: name min 2 chars, email format, message min 10 chars
    - On success: log submission, return {success: true}
    - On failure: return {success: false, errors: {field: "message"}}
    - NO email sending in v1 (log to console for now, can integrate Resend/SendGrid later)

    Per CONTEXT decisions: Minimal 3 fields, understated luxury styling, inline success message, field-level errors.
  </action>
  <verify>
    Form submits with valid data, honeypot field traps spam, validation errors show inline, success message displays.
  </verify>
  <done>Form works with honeypot anti-spam, no CAPTCHA disruption, luxury feel maintained</done>
</task>

<task type="auto">
  <name>Task 3: Create social proof component</name>
  <files>src/components/SocialProof.tsx</files>
  <action>
    Create src/components/SocialProof.tsx with:
    - Server Component (no "use client")
    - Three sections: Awards (e.g., "Prêmio Brazil Architecture 2024"), Credentials (CAU registration number), Project Highlights ("50+ projetos entregues")
    - Grid layout: 3 columns on lg, 1 column on mobile (grid-cols-1 lg:grid-cols-3)
    - Minimal styling: small text (text-sm), muted color (text-gray-600), subtle borders between sections
    - Icon for each section using lucide-react: Award, Shield, Building
    - Section background: very light gray (bg-gray-50) to differentiate from content
    - Responsive padding: py-16 px-4 (mobile), py-24 px-8 (desktop)

    Data structure for extensibility:
    - awards: Array of {title, year}
    - credentials: Array of {label, value}
    - highlights: Array of {label, value}

    Placeholder content (per CONTEXT: CNT-01 addressed in 04-03):
    - Awards: "Prêmio Brazil Architecture 2024", "Menção Honrosa ArchDaily 2023"
    - Credentials: "CAU-SP 123456", "12 anos de experiência"
    - Highlights: "50+ projetos entregues", "Especialista em verticalização"
  </action>
  <verify>Component renders, displays all three sections, responsive layout works</verify>
  <done>Social proof displays awards, credentials, and project highlights</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete conversion elements: WhatsApp button (animated, functional), contact form (with honeypot anti-spam), social proof display</what-built>
  <how-to-verify>
    1. Run local dev server: npm run dev
    2. Visit http://localhost:3000
    3. Verify WhatsApp button: visible in bottom-right, animates on load, gentle bobbing animation, hover scales up
    4. Click WhatsApp button: confirms opens wa.me link with pre-filled Portuguese message
    5. Scroll to contact form section
    6. Test honeypot: inspect element, find hidden "website" field, leave empty (normal user)
    7. Submit valid form: name "Test User", email "test@example.com", message "Test message for validation"
    8. Verify success: form hides, "Obrigado" message appears inline
    9. Test validation errors: submit with empty name, verify inline error shows
    10. Scroll to social proof: verify awards, credentials, highlights display correctly
    11. Test mobile responsiveness: resize browser to mobile width, verify all elements stack properly

    Expected outcomes:
    - WhatsApp button animates smoothly, not janky
    - Contact form submits without page reload (Server Action)
    - No CAPTCHA appears (honeypot is invisible)
    - Social proof sections are legible and properly spaced
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- WhatsApp button component exists with GSAP animations
- Contact form submits with Server Action, honeypot validates spam
- Social proof component displays three sections
- All components use design system tokens
- Components follow Atomic Design patterns
</verification>

<success_criteria>
- [ ] WhatsApp button visible and animated with GSAP
- [ ] Contact form submits successfully with honeypot anti-spam
- [ ] Social proof displays awards, credentials, and project highlights
- [ ] No CAPTCHA disruption to luxury feel
- [ ] All components responsive on mobile and desktop
</success_criteria>

<output>
After completion, create `.planning/phases/04-conversion-launch/04-01-SUMMARY.md`
</output>
